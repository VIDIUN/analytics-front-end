<div class="vReport vOverrideFAIcons vImpressions">
  <div class="vFilters">
    <span class="vTitle">{{'app.engagement.impressions' | translate}}</span>
  </div>
  <v-area-blocker [message]="_blockerMessage" [showLoader]="_isBusy">
    <div class="vReportContent">
      <div class="vCompareDates" *ngIf="isCompareMode && _chartLoaded">
        <div style="width: 30%"></div>
        <div>{{_compareDates}}</div>
        <div>{{_currentDates}}</div>
      </div>
      <div class="vData" *ngIf="_chartLoaded" [class.compare]="isCompareMode">
        <div class="vDataContainer">
          <span class="vValue" *ngIf="!isCompareMode">{{_funnelData.impressions | numberFormat}}</span>
          <span class="vLabel" [class.compare]="isCompareMode">{{'app.engagement.playerImpressions' | translate}}</span>
        </div>
        <div class="vDataContainer">
          <span class="vValue" *ngIf="!isCompareMode">{{_funnelData.plays | numberFormat}}</span>
          <span class="vLabel" [class.compare]="isCompareMode">{{'app.engagement.plays' | translate}}</span>
        </div>
        <div class="vDataContainer">
          <span class="vValue" *ngIf="!isCompareMode">{{_funnelData.playThrough['perc'+_selectedPlaythrough] |numberFormat}}</span>
        </div>
      </div>

      <div class="vCharts" [class.compare]="isCompareMode" [style.opacity]="_chartLoaded ? 1 : 0">
        <div class="vChart" *ngIf="isCompareMode">
          <div echarts class="vChart" [class.compare]="isCompareMode" [options]="_compareChartData" (chartInit)="onCompareChartInit($event)"></div>
        </div>
        <div class="vChart">
          <div echarts class="vChart" [class.compare]="isCompareMode" [options]="_chartData" (chartInit)="onChartInit($event)"></div>
        </div>
      </div>

      <div class="vPlaythrough" [class.compare]="isCompareMode" *ngIf="_chartLoaded">
        <span class="vLabel">{{'app.engagement.playthrough1' | translate}}</span>
        <p-dropdown [options]="_playthroughs" [(ngModel)]="_selectedPlaythrough" (onChange)="onPlaythroughChange()"></p-dropdown>
        <span class="vLabel" [class.block]="isCompareMode">{{'app.engagement.playthrough2' | translate}}</span>
      </div>

    </div>

  </v-area-blocker>
</div>

