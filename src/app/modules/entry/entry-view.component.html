<div class="vMain">
  <div class="vReportView">
    <div class="vReport vContent vOverrideFAIcons">
      <div class="vReportHeader">
        <button pButton class="vButtonDefault vBackBtn small" icon="vIconarrow_backward" (click)="_back()" [vTooltip]="'app.entry.back' | translate"></button>
        <span class="vTitle">{{_entryName}}</span>
        <app-export-csv [headers]="_csvExportHeaders" [totalCount]="_totalCount" [reportInputFilter]="_filter"
                        [reportType]="_reportType"
                        [dimension]="_selectedMetrics" [reportText]="'app.common.noMsg' | translate"
                        [reportTitle]="'app.bandwidth.usersStorage' | translate"></app-export-csv>
        <div class="vFilter vOverrideFAIcons">
          <div class="vDropDown" (click)="_refineFilterOpened = !_refineFilterOpened">
            <span>{{'app.filters.filter' | translate}}</span>
            <i *ngIf="!_refineFilterOpened" class="vIcondropdown_arrow_bottom"></i>
            <i *ngIf="_refineFilterOpened" class="vIcondropdown_arrow_top"></i>
          </div>
        </div>
        <app-date-filter #dateFilter [dateRange]="_dateRange" [selectedTimeUnit]="_timeUnit"
                         (filterChange)="_onDateFilterChange($event)"></app-date-filter>
      </div>

      <div class="vEntryDetails">
        <div class="vIconMediaType" [ngClass]="_entryType | mediaType: false"></div>
        <span>{{_entryType | mediaType: true}}</span>
        <div class="vSeparator"></div>
        <span>{{'app.entry.owner' | translate}}</span>
        <span class="vOwner">{{_owner}}</span>
        <div class="vSeparator"></div>
        <span class="link" (click)="_navigateToEntry()">{{'app.entry.seeAll' | translate}}</span>
      </div>
      <div class="vReportContainer">
        <app-refine-filter [opened]="_refineFilterOpened"
                           [dateFilter]="_dateFilter"
                           [selectedFilters]="_selectedRefineFilters"
                           (closeFilters)="_refineFilterOpened = false"
                           (filterChange)="_onRefineFilterChange($event)"></app-refine-filter>
      </div>

      <app-entry-totals [dateFilter]="_dateFilter" [entryId]="_entryId"></app-entry-totals>

      <app-entry-preview [dateFilter]="_dateFilter" [entryId]="_entryId"></app-entry-preview>

      <div class="vReportContainer">
        <app-video-performance [dateFilterComponent]="dateFilter"
                               [dateFilter]="_dateFilter"
                               [entryId]="_entryId"></app-video-performance>
      </div>

    </div>
  </div>
</div>
